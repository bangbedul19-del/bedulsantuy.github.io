<!doctype html>
<html>
<body>
<button onclick="openPopup()">Open Popup</button>

<script>
function openPopup() {
  const w = window.open("about:blank", "_blank");
  w.document.write(`
    <h3>about:blank permission test</h3>
    <script>
      setTimeout(async () => {
        try {
          await navigator.mediaDevices.getUserMedia({video:true});
          document.body.innerHTML += "<p>❌ BUG: camera prompt shown</p>";
        } catch(e) {
          document.body.innerHTML += "<p>✅ PASS: blocked ("+e.name+")</p>";
        }
      }, 3000);
    <\/script>
  `);
}
</script>
</body>
</html>
