<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Android Dialog Timing Test</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
  body { font-family: Arial, sans-serif; padding: 20px; }
  button { padding: 14px 20px; font-size: 16px; }
  .note { color:#555; margin-top:10px; }
</style>
</head>
<body>

<input onclick="start()" type="button" value="Click here" />

<script>
function start() {
  // Request microphone access
  var recognition = new webkitSpeechRecognition();
  recognition.start();

  navigator.webkitGetUserMedia(
    { audio: true },
    function(){},
    function(){}
  );

  // Delay navigation to create permission/navigation race
  setTimeout(function () {
    document.location = "https://www.google.com";
  }, 100);
}
</script>


</body>
</html>
